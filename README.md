# Домашнее задание к занятию «Базы данных, их типы»

---
## Ахмадеев Булат Наилевич

---

## Задание 1

### Для решения перечисленных задач строительной компании, предлагаю рассмотреть следующие типы СУБД:

1) ### Бюджетирование проектов

Для задачи бюджетирования проектов и формирования финансовых аналитических отчетов и прогнозирования рисков, лучше всего подойдет реляционная СУБД (RDBMS) из-за необходимости поддержания целостности и четкой структуры данных. Например:

PostgreSQL: предлагает мощные возможности для обработки транзакций, поддерживает сложные запросы и аналитические функции, обеспечивая надежность и целостность данных.

### Ускорение хеширования

Для ускорения хеширования можно использовать специализированные API и библиотеки:

Blake2 или Argon2: современные хеш-функции, которые могут быть быстрее и безопаснее чем старые алгоритмы.
Hardware acceleration: использование аппаратного ускорения через API, такие как Intel SHA Extensions.

2) ### Лендинги и CRM

Для лендингов и CRM требуется гибкая и быстрая СУБД. Подходящими типами будут:

NoSQL (Document-oriented DB): например, MongoDB. Она обеспечивает высокую производительность, гибкость и возможность быстрого масштабирования.

### Одна СУБД для лендингов и CRM

Задачу лендингов и CRM можно решить одной СУБД. Например:

MongoDB: может использоваться как для хранения данных лендингов, так и для CRM, благодаря своей гибкости и возможности хранения структурированных и неструктурированных данных.

3) ### База по корпоративным нормам и обучающим материалам

Для создания базы по корпоративным нормам и обучающим материалам подойдет:

Relational DB: например, MySQL или PostgreSQL, из-за необходимости поддержания четкой структуры данных и простоты использования.

### Использование существующей СУБД

Для этой задачи можно использовать PostgreSQL, который предложен для бюджетирования проектов (1). Реализация может быть выполнена путем создания отдельной схемы или базы данных в рамках одной инсталляции PostgreSQL.

4) ### Логистика и маршруты доставки

Для задач логистики и маршрутизации лучше использовать:

Graph DB: например, Neo4j. Эта СУБД оптимизирована для работы с графами и быстрым обработкой связей, что необходимо для формирования маршрутов и распределения курьеров.

### Подключение отдела закупок

Отдел закупок можно подключить к той же СУБД (например, Neo4j), так как они могут иметь тесные связи с логистикой. Но если данные сильно различаются, лучше использовать отдельную базу данных для закупок и связать их с логистической СУБД через API.

5) ### Решение всех задач одной СУБД

Для решения всех перечисленных задач с помощью одной СУБД можно рассмотреть PostgreSQL, так как:

Она поддерживает реляционные структуры для задач бюджетирования и обучения.
Имеет расширения для работы с документами (JSONB) для лендингов и CRM.
Поддерживает расширения для графов (pgRouting) для логистики и маршрутов.
Использование PostgreSQL позволит централизовать управление данными, упростить администрирование и интеграцию данных между различными отделами.

---

# Задание 2

### Пополнение баланса счёта телефона

Для успешного завершения транзакции пополнения баланса счёта телефона, необходимо выполнить следующие шаги:

1) Ввод данных: Пользователь вводит данные для пополнения баланса, такие как номер телефона, сумма пополнения и платёжные реквизиты.

2) Валидация данных: Система проверяет корректность введённых данных, включая номер телефона и платёжные реквизиты (например, валидность кредитной карты).

3) Авторизация платежа: Платёжная система отправляет запрос на авторизацию транзакции к банку-эмитенту карты или другому платёжному провайдеру. Проверяется, достаточно ли средств на счету пользователя и нет ли блокировок.

4) Проведение транзакции: После успешной авторизации, платёжная система инициирует перевод средств с банковского счета пользователя на счет оператора связи.

5) Обновление баланса: Оператор связи обновляет баланс на телефоне пользователя, увеличивая его на сумму пополнения.

6) Подтверждение: Система отправляет пользователю уведомление (SMS, email или пуш-уведомление) о том, что баланс успешно пополнен. В базе данных фиксируется запись о проведённой транзакции.

### Пополнение счёта телефона через автоплатёж

Для пополнения счёта телефона через автоплатёж, последовательность действий будет схожа, но с некоторыми автоматизациями и дополнительными проверками:

1) Настройка автоплатежа: Пользователь один раз настраивает автоплатёж, вводя данные для периодического пополнения (например, сумма, периодичность, лимиты, платёжные реквизиты).

2) Триггер автоплатежа: По наступлении времени автоплатежа (например, ежемесячно или при достижении минимального баланса), система инициирует автоплатёж.

3) Валидация данных: Система автоматически проверяет актуальность настроек автоплатежа, включая проверку на изменение платёжных реквизитов и наличие достаточного остатка на счете пользователя.

4) Авторизация платежа: Система отправляет запрос на авторизацию транзакции к платёжному провайдеру, как и в случае с ручным пополнением, для проверки наличия средств и разрешений.

5) Проведение транзакции: Платёжная система осуществляет автоматический перевод средств с банковского счета пользователя на счет оператора связи.

6) Обновление баланса и уведомление: Оператор связи обновляет баланс на телефоне пользователя, а система отправляет уведомление о проведении автоплатежа. В базе данных фиксируется запись о выполненном автоплатеже.

---

# Задание 3

1) ### Преимущества SQL-систем по отношению к NoSQL

### Целостность и согласованность данных:

ACID-свойства: SQL-системы (например, MySQL, PostgreSQL) обеспечивают атомарность, согласованность, изолированность и долговечность транзакций, что гарантирует целостность данных.
Схема данных: Чётко определенная схема данных в SQL-системах обеспечивает структурированность и предсказуемость данных.
Мощный язык запросов:

SQL: Структурированный язык запросов (SQL) позволяет выполнять сложные запросы, включая объединения (JOIN), группировки и вложенные запросы. Это упрощает анализ и обработку данных.
Надежность и устойчивость:

Долговечность данных: SQL-системы обычно имеют встроенные механизмы резервного копирования и восстановления, что обеспечивает высокую надежность хранения данных.
Контроль доступа: Развитые механизмы контроля доступа и аутентификации помогают защитить данные от несанкционированного доступа.
Поддержка транзакций:

Транзакции: SQL-системы поддерживают сложные транзакции, что особенно важно для приложений, где необходимы гарантии выполнения операций над данными.
Широкая поддержка и экосистема:

Сообщество и поддержка: SQL-системы существуют уже несколько десятилетий, имеют обширную документацию, большие сообщества пользователей и коммерческую поддержку.
Интеграция: Многие приложения и инструменты (BI, ETL и т.д.) изначально разработаны для работы с реляционными СУБД, что облегчает их интеграцию.

### Преимущества NewSQL-систем перед SQL и NoSQL

NewSQL-системы сочетают в себе лучшие свойства как SQL, так и NoSQL систем, предлагая уникальные преимущества:

Масштабируемость:

Горизонтальное масштабирование: NewSQL-системы (например, Google Spanner, CockroachDB) поддерживают горизонтальное масштабирование, обеспечивая высокую производительность и доступность при увеличении объёмов данных и нагрузки, что традиционно присуще NoSQL системам.
ACID-свойства на больших масштабах:

Согласованность и целостность: NewSQL обеспечивает ACID-гарантии на уровнях, сопоставимых с традиционными SQL-системами, даже при масштабировании на множество узлов.
Совместимость с SQL:

SQL-интерфейс: NewSQL-системы поддерживают стандартный SQL для запросов, что упрощает миграцию с традиционных реляционных баз данных и не требует переписывания приложений.
Низкая задержка и высокая производительность:

Оптимизация выполнения: NewSQL-системы часто используют современные оптимизации для выполнения запросов, что снижает задержки и повышает производительность, особенно для операций чтения и записи.
Обеспечение высокой доступности:

Автоматическое восстановление: NewSQL-системы обычно включают механизмы автоматического восстановления и репликации данных, что обеспечивает высокую доступность и отказоустойчивость.
Эти преимущества делают NewSQL-системы привлекательными для современных приложений, требующих как высокой производительности и масштабируемости, так и строгой целостности данных.

---

# Задание 4

### Выбор типа СУБД и модели распределённых вычислений

Для обработки большого объема данных с использованием 1000 машин, необходимо выбрать тип СУБД и модель распределённых вычислений, учитывая следующие критерии:

Масштабируемость:

Система должна поддерживать горизонтальное масштабирование, чтобы эффективно использовать все 1000 машин.


Производительность:

Высокая производительность как для операций чтения, так и для записи, учитывая большие объёмы данных и высокую нагрузку.

Устойчивость и отказоустойчивость:

Способность справляться с отказами отдельных узлов без потери данных и без значительного снижения производительности.

Совместимость с вычислительными задачами:

Поддержка распределенных вычислений и возможность интеграции с вычислительными платформами.

### Выбор типа СУБД

Для этих требований наилучшим образом подходят следующие типы СУБД:

NoSQL (например, Apache Cassandra, MongoDB):

Apache Cassandra: Хорошо масштабируется горизонтально, поддерживает высокую доступность и отказоустойчивость. Отлично подходит для записи больших объемов данных и их распределенной обработки.
MongoDB: Поддерживает горизонтальное масштабирование и обладает гибкостью в работе с неструктурированными данными.

### NewSQL (например, Google Spanner, CockroachDB):

Google Spanner: Обеспечивает глобальную согласованность, масштабируемость и поддерживает ACID-транзакции.
CockroachDB: Обеспечивает высокую производительность, горизонтальное масштабирование и ACID-свойства.
Модель распределённых вычислений
Наиболее подходящей моделью распределённых вычислений для такой задачи является MapReduce, особенно в реализации Apache Hadoop или Apache Spark. Вот почему:

### Apache Hadoop:

HDFS (Hadoop Distributed File System): Надёжное хранение данных с репликацией и высокой доступностью.
MapReduce: Эффективная модель для обработки больших объемов данных, разбивая задачи на мелкие подзадачи, которые выполняются параллельно на разных узлах.

### Apache Spark:

In-Memory Computing: Обеспечивает значительно более высокую производительность по сравнению с традиционным MapReduce, благодаря обработке данных в оперативной памяти.

Универсальность: Поддерживает не только MapReduce, но и другие модели вычислений, такие как графовые вычисления, машинное обучение и стриминговую обработку данных.
Почему Apache Spark лучше всего подходит

Apache Spark является предпочтительной моделью распределённых вычислений для использования с 1000 машин по следующим причинам:

Высокая производительность: Благодаря обработке данных в оперативной памяти, Spark обеспечивает более быструю обработку по сравнению с Hadoop MapReduce, что особенно важно при работе с большими объёмами данных.

Гибкость: Spark поддерживает широкий спектр аналитических задач, включая SQL-запросы, стриминг, графовые вычисления и машинное обучение, что делает его универсальным инструментом для различных типов задач.

Масштабируемость: Spark легко масштабируется и может эффективно использовать ресурсы всех 1000 машин.

Удобство использования: Spark предоставляет высокоуровневые API для различных языков программирования (Scala, Java, Python, R), что упрощает разработку и поддержку приложений.

Для работы с огромным количеством данных на 1000 машинах, рекомендуется использовать NoSQL системы (например, Apache Cassandra или MongoDB) или NewSQL системы (например, Google Spanner или CockroachDB) для хранения данных. Для распределённых вычислений оптимальным выбором будет Apache Spark, который обеспечивает высокую производительность, гибкость и масштабируемость, необходимые для эффективной обработки больших объёмов данных.

---